package com.elenilson.cursojavaintermediario.aula74.labs;

public class ThreadSemaforo implements Runnable{

	private CorSemafaro cor;
	private boolean parar;

	public ThreadSemaforo() {
		this.cor = CorSemafaro.VERMELHO;

		new Thread(this).start();

	}

	@Override
	public void run() {
		while(!parar) {
			try {
				switch(this.cor) {
				case VERMELHO:
					Thread.sleep(2000);
					break;
				case AMARELO:
					Thread.sleep(500);
					break;
				case VERDE:
					Thread.sleep(1000);
					break;
				}
				this.mudarCor();
			}catch (InterruptedException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
		}
	}
	private synchronized void mudarCor() {
		switch(this.cor) {
		case VERMELHO:
			this.cor = CorSemafaro.VERDE;
			break;
		case AMARELO:
			this.cor = CorSemafaro.VERMELHO;
			break;
		case VERDE:
			this.cor = CorSemafaro.AMARELO;
			break;
		}
	}

}

